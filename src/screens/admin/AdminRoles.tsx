import React from 'react'; import { ScrollView,Text,TextInput,Pressable,StyleSheet,Alert } from 'react-native'; import { httpsCallable, getFunctions } from 'firebase/functions'; export default function AdminRoles(){ const [email,setEmail]=React.useState('therapist@example.com'); const [role,setRole]=React.useState('therapist'); const setUserRole=async()=>{ try{ const fn=httpsCallable(getFunctions(),'setUserRole'); const res:any=await fn({email,role}); Alert.alert('Role updated', res?.data?.message||'OK'); }catch(e:any){ Alert.alert('Error', e?.message||String(e)); } }; return (<ScrollView contentContainerStyle={{padding:16}}><Text style={s.h}>Admin â€” Set User Role</Text><TextInput style={s.in} value={email} onChangeText={setEmail} placeholder='user@example.com'/><TextInput style={s.in} value={role} onChangeText={setRole} placeholder='therapist | admin'/><Pressable style={s.btn} onPress={setUserRole}><Text style={s.bt}>Set Role</Text></Pressable></ScrollView>);} const s=StyleSheet.create({h:{fontSize:22,fontWeight:'900'},in:{borderWidth:1,borderRadius:10,padding:10,marginTop:8},btn:{borderWidth:1,borderRadius:10,padding:10,marginTop:8,alignSelf:'flex-start'},bt:{fontWeight:'900'}});
